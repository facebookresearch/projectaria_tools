"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8864],{17943(e,s,i){i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"mps/mps_batching","title":"Batch Processing","description":"Bulk processing of large datasets is a built-in feature in MPS CLI.","source":"@site/docs-ark/mps/mps_batching.mdx","sourceDirName":"mps","slug":"/mps/mps_batching","permalink":"/projectaria_tools/gen2/ark/mps/mps_batching","draft":false,"unlisted":false,"editUrl":"https://www.internalfb.com/code/fbsource/arvr/projects/ariane/aria_research_kit/projectaria_tools/website/docs-ark/mps/mps_batching.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Batch Processing"},"sidebar":"arkSidebar","previous":{"title":"Getting Started","permalink":"/projectaria_tools/gen2/ark/mps/start"},"next":{"title":"Data Lifecycle","permalink":"/projectaria_tools/gen2/ark/mps/mps_data_lifecycle"}}');var l=i(74848),n=i(28453);const t={sidebar_position:3,title:"Batch Processing"},a="Batch Processing",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Process all VRS files in a folder",id:"process-all-vrs-files-in-a-folder",level:3},{value:"Process VRS files from multiple folders",id:"process-vrs-files-from-multiple-folders",level:3},{value:"Examples",id:"examples",level:2},{value:"Single folder",id:"single-folder",level:3},{value:"Multiple folders",id:"multiple-folders",level:3},{value:"Batch Concurrency",id:"batch-concurrency",level:2},{value:"Output",id:"output",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"batch-processing",children:"Batch Processing"})}),"\n",(0,l.jsx)(s.p,{children:"Bulk processing of large datasets is a built-in feature in MPS CLI."}),"\n",(0,l.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(s.p,{children:"Instead of submitting VRS files one at a time, you can point the MPS CLI to a folder (or multiple folders) containing multiple VRS files. The CLI will automatically:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"Discover all VRS files in the specified folder(s) recursively"}),"\n",(0,l.jsxs)(s.li,{children:["Concurrenty process ",(0,l.jsx)(s.code,{children:"n"})," (default 25) recordings at a time and queue the rest."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(s.h3,{id:"process-all-vrs-files-in-a-folder",children:"Process all VRS files in a folder"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"aria_mps single -i <path_to_folder>\n"})}),"\n",(0,l.jsx)(s.p,{children:"The CLI will recursively find all VRS files in the specified folder and submit them for processing."}),"\n",(0,l.jsx)(s.h3,{id:"process-vrs-files-from-multiple-folders",children:"Process VRS files from multiple folders"}),"\n",(0,l.jsxs)(s.p,{children:["You can chain multiple input folders using the ",(0,l.jsx)(s.code,{children:"-i"})," flag:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"aria_mps single -i <path_to_folder_1> -i <path_to_folder_2> -i <path_to_folder_3>\n"})}),"\n",(0,l.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(s.h3,{id:"single-folder",children:"Single folder"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"aria_mps single -i ~/recordings/session_01/\n"})}),"\n",(0,l.jsx)(s.h3,{id:"multiple-folders",children:"Multiple folders"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"aria_mps single -i ~/recordings/day1/ -i ~/recordings/day2/ -i ~/recordings/day3/\n"})}),"\n",(0,l.jsx)(s.h2,{id:"batch-concurrency",children:"Batch Concurrency"}),"\n",(0,l.jsx)(s.p,{children:"The batch processing feature automatically manages concurrent jobs to stay within the service limits:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["By default, a maximum of 25 concurrent processing jobs are allowed. This concurrency count can be updated using the ",(0,l.jsx)(s.code,{children:"concurrent_processing"})," setting in ",(0,l.jsx)(s.a,{href:"/technical-specs/mps/mps_cli_guide#cli-settings",children:"CLI Settings"}),". The max allowed concurrency is 100 at this time."]}),"\n",(0,l.jsx)(s.li,{children:"Jobs are queued and submitted automatically as capacity becomes available"}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"This ensures reliable processing without overloading the system."}),"\n",(0,l.jsx)(s.h2,{id:"output",children:"Output"}),"\n",(0,l.jsxs)(s.p,{children:["MPS outputs are saved next to each original VRS file, following the same folder structure as single file processing. See ",(0,l.jsx)(s.a,{href:"/ark/mps/start",children:"Getting Started"})," for details on output folder structure."]})]})}function u(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453(e,s,i){i.d(s,{R:()=>t,x:()=>a});var r=i(96540);const l={},n=r.createContext(l);function t(e){const s=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(n.Provider,{value:s},e.children)}}}]);